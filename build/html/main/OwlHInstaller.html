

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OwlH Installer &mdash; owlh 0.17.x documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="owlh 0.17.x documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> owlh
          

          
          </a>

          
            
            
              <div class="version">
                0.17.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="OwlHGS.html">Getting Started with OwlH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components.html#owlh-master">OwlH Master</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#owlh-node">OwlH Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#owlh-ui">OwlH UI</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#owlh-client">OwlH Client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="capabilities.html">Capabilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="capabilities.html#nids-and-traffic-analysis-support">NIDS and Traffic analysis support</a></li>
<li class="toctree-l3"><a class="reference internal" href="capabilities.html#top-capabilities">Top capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="capabilities.html#traffic-transport-and-management">Traffic transport and management</a></li>
<li class="toctree-l3"><a class="reference internal" href="capabilities.html#owlh-plugins">OwlH Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="capabilities.html#others">Others</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="architecture.html#standard-data-flow">Standard data flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="architecture.html#inside-owlh-node">Inside OwlH Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="architecture.html#used-ports">Used ports</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OwlHInstall.html">Install OwlH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="OwlHInstall.html#owlh-installer">OwlH Installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="OwlHInstall.html#install-components">Install components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="OwlHInstall.html#standard-installation">Standard Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHInstall.html#advanced-installation">Advanced Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OwlHInstall.html#configure">Configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="OwlHInstall.html#visualization">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="OwlHInstall.html#appendices">Appendices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OwlHUpdate.html">Update and upgrade OwlH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="OwlHUpdate.html#owlh-components">OwlH components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OwlHUM.html">User Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="OwlHFC.html">First configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="OwlHFC.html#user-interface">User Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHFC.html#analyzer">Analyzer</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHFC.html#suricata">Suricata</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHFC.html#zeek">Zeek</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHFC.html#wazuh">Wazuh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OwlHCF.html">Configuration Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="OwlHapiconf.html">API service configuration files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="OwlHapiconf.html#node-configuration">Node configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="OwlHapiconf.html#master-configuration">Master configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="OwlHmainconf.html">Main Configuration files (main.conf)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="OwlHMasterMainConf.html">Master Main Configuration file</a></li>
<li class="toctree-l4"><a class="reference internal" href="OwlHNodeMainConf.html">Node Main Configuration file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="OwlHAnalyzer.html">Analyzer configuration file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OwlHAPI.html">OwlH API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="OwlHAPIM.html">OwlH MASTER RESTful API</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHAPIN.html">OwlH NODE RESTful API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OwlHTroubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="OwlHTroubleshooting.html#owlh-node">OwlH Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="OwlHTroubleshooting.html#owlh-master">OwlH Master</a></li>
<li class="toctree-l2"><a class="reference internal" href="OwlHTroubleshooting.html#owlh-ui">OwlH UI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lookingfor.html">Looking for…</a><ul>
<li class="toctree-l2"><a class="reference internal" href="OwlHSuricata.html">OwlH and Suricata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="OwlHSuricata.html#main-steps">Main steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHSuricata.html#suricata-output-with-owlh">Suricata output with OwlH</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHSuricata.html#suricata-rules">Suricata Rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OwlHZeek.html">OwlH and Zeek</a><ul>
<li class="toctree-l3"><a class="reference internal" href="OwlHZeek.html#integration-logical-diagram">Integration Logical Diagram</a><ul>
<li class="toctree-l4"><a class="reference internal" href="OwlHZeek.html#components">Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="OwlHZeek.html#configure-zeek-owlh-node">Configure - Zeek - OwlH Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHZeek.html#zeek-logs-output-format-to-json">Zeek Logs Output format to JSON</a><ul>
<li class="toctree-l4"><a class="reference internal" href="OwlHZeek.html#option-1-modify-ascii-writer-output">Option 1 - Modify ASCII writer output</a></li>
<li class="toctree-l4"><a class="reference internal" href="OwlHZeek.html#zeek-event-enritchment-to-help-wazuh-ruleset">Zeek Event Enritchment to help Wazuh ruleset</a></li>
<li class="toctree-l4"><a class="reference internal" href="OwlHZeek.html#loading-zeek-customizations-at-zeek-start">Loading Zeek customizations at Zeek start</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="OwlHZeek.html#review-your-kibana-dashboard">Review your Kibana Dashboard</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OwlHMoloch.html">OwlH and Moloch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="OwlHMoloch.html#configure-moloch">Configure Moloch</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHMoloch.html#moloch-in-master">Moloch in Master</a></li>
<li class="toctree-l3"><a class="reference internal" href="OwlHMoloch.html#moloch-in-remote-server">Moloch in remote server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scenarios.html">Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scenarios.html#basic">BASIC</a></li>
<li class="toctree-l2"><a class="reference internal" href="scenarios.html#advanced">ADVANCED</a></li>
<li class="toctree-l2"><a class="reference internal" href="scenarios.html#integrate-with-wazuh">INTEGRATE WITH WAZUH</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contact.html">If you need help</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">owlh</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>OwlH Installer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/main/OwlHInstaller.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="owlh-installer">
<h1>OwlH Installer<a class="headerlink" href="#owlh-installer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-owlh-installer">
<h2>What is OwlH Installer?<a class="headerlink" href="#what-is-owlh-installer" title="Permalink to this headline">¶</a></h2>
<p>OwlH Installer is a helper tool that will help you to keep your software up-to-date to the latest version. It will take care of the new versions for OwlH Master, OwlH UI and OwlH Node and will update them as needed.</p>
<div class="section" id="download-and-prepare-owlh-installer">
<h3>Download and prepare OwlH Installer<a class="headerlink" href="#download-and-prepare-owlh-installer" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">OS version</th>
<th class="head">URL</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CentOS 7</td>
<td>wget <a class="reference external" href="http://repo.owlh.net/current-centos/owlhinstaller.tar.gz">http://repo.owlh.net/current-centos/owlhinstaller.tar.gz</a></td>
</tr>
<tr class="row-odd"><td>Ubuntu</td>
<td>wget <a class="reference external" href="http://repo.owlh.net/current-debian/owlhinstaller.tar.gz">http://repo.owlh.net/current-debian/owlhinstaller.tar.gz</a></td>
</tr>
<tr class="row-even"><td>Raspbian</td>
<td>wget <a class="reference external" href="http://repo.owlh.net/current-arm/owlhinstaller.tar.gz">http://repo.owlh.net/current-arm/owlhinstaller.tar.gz</a></td>
</tr>
</tbody>
</table>
<p>Now let’s install it.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># mkdir /tmp/owlhinstaller</span>
<span class="c1"># tar -C /tmp/owlhinstaller -xvf owlhinstaller.tar.gz</span>
</pre></div>
</div>
<p>We are almost done. In order to allow OwlH installer to do its work, we need to tell it what is/are out target/s for this box. A target is an OwlH component that must be installed or updated. All this info is provided in the config.json file included in the owlhinstaller folder</p>
</div>
</div>
<div class="section" id="prepare-your-owlh-installer">
<h2>Prepare your OwlH Installer<a class="headerlink" href="#prepare-your-owlh-installer" title="Permalink to this headline">¶</a></h2>
<p>You need to configure and prepare your OwlH Installer, all information needed is provided in the config.json file.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;versionfile&quot;</span><span class="p">:</span><span class="s2">&quot;current.version&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>Current.version is the file that stores your actual local version and compares it with the one OwlH provides from our repository. if your local file does not exists, or version is lower than the one provided by OwlH then the action defined will be taken, update or install. Current.version file is stored in conf folder on each component.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;masterbinpath&quot;</span><span class="p">:</span><span class="s2">&quot;/root/workspace/src/owlhmaster/&quot;</span><span class="p">,</span>
<span class="s2">&quot;masterconfpath&quot;</span><span class="p">:</span><span class="s2">&quot;/root/workspace/src/owlhmaster/conf/&quot;</span><span class="p">,</span>
<span class="s2">&quot;mastertarfile&quot;</span><span class="p">:</span><span class="s2">&quot;owlhmaster.tar.gz&quot;</span><span class="p">,</span>
<span class="s2">&quot;nodebinpath&quot;</span><span class="p">:</span><span class="s2">&quot;/root/workspace/src/owlhnode/&quot;</span><span class="p">,</span>
<span class="s2">&quot;nodeconfpath&quot;</span><span class="p">:</span><span class="s2">&quot;/root/workspace/src/owlhnode/conf/&quot;</span><span class="p">,</span>
<span class="s2">&quot;nodetarfile&quot;</span><span class="p">:</span><span class="s2">&quot;owlhnode.tar.gz&quot;</span><span class="p">,</span>
<span class="s2">&quot;uipath&quot;</span><span class="p">:</span><span class="s2">&quot;/var/www/owlh/&quot;</span><span class="p">,</span>
<span class="s2">&quot;uiconfpath&quot;</span><span class="p">:</span><span class="s2">&quot;/var/www/owlh/conf/&quot;</span><span class="p">,</span>
<span class="s2">&quot;uitarfile&quot;</span><span class="p">:</span><span class="s2">&quot;owlhui.tar.gz&quot;</span><span class="p">,</span>
<span class="s2">&quot;tmpfolder&quot;</span><span class="p">:</span><span class="s2">&quot;/tmp/&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>Those are the diferent paths and packet names we use locally to install or update your local OwlH system. them can be modified. If you are not familiar with the way them work, please keep default configuration. If you prefer to modify them because some policy but you want to be sure, let us know and we will help you.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;install&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>Right now there are two possible actions: “install” and “update”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Install:</th><td class="field-body">Install will create all directories if they do not exists. Will copy all default files or overwrite them if they exists. Any configuration files will be written back</td>
</tr>
<tr class="field-even field"><th class="field-name">update:</th><td class="field-body">Update will copy the new component binary, will include any new key in the configuration files and will keep the current ones without modify or remove. It will also include new tables and table fields on each db, again it will not overwrite any current data in your configuration DBs.</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;repourl&quot;</span><span class="p">:</span><span class="s2">&quot;https://repo.owlh.net/current-xxxxxxx/&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>There will be different repositories depending on your OS.</p>
<p>Current repositories depending on your OS based system, are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">centos:</th><td class="field-body"><a class="reference external" href="https://repo.owlh.net/current-centos/">https://repo.owlh.net/current-centos/</a></td>
</tr>
<tr class="field-even field"><th class="field-name">debian:</th><td class="field-body"><a class="reference external" href="https://repo.owlh.net/current-debian/">https://repo.owlh.net/current-debian/</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">arm:</th><td class="field-body"><a class="reference external" href="https://repo.owlh.net/current-arm/">https://repo.owlh.net/current-arm/</a></td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;owlhmaster&quot;</span><span class="p">,</span>
    <span class="s2">&quot;owlhui&quot;</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Target is were you define what components should be installed on your system.</p>
<p>Current possible targets are :  owlhmaster, owlhnode, owlhui</p>
<p>Usually owlhmaster and owlhui are installed together.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;masterfiles&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;main.conf&quot;</span><span class="p">,</span>
    <span class="s2">&quot;app.conf&quot;</span>
<span class="p">],</span>
<span class="s2">&quot;nodefiles&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;main.conf&quot;</span><span class="p">,</span>
    <span class="s2">&quot;stap-defaults.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;app.conf&quot;</span>
<span class="p">],</span>
<span class="s2">&quot;uifiles&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;ui.conf&quot;</span>
<span class="p">],</span>
<span class="s2">&quot;masterdb&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;group.db&quot;</span><span class="p">,</span>
    <span class="s2">&quot;node.db&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ruleset.db&quot;</span>
<span class="p">],</span>
<span class="s2">&quot;nodedb&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;plugins.db&quot;</span><span class="p">,</span>
    <span class="s2">&quot;servers.db&quot;</span>
<span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Files to take into account to update. This files are verified and compared between new version and current deployment when you are running and update action. update process does not overwrite current files or DB, it just add the new default fields or database reference. you don’t need to take care of those files, but if you don’t wont a file or db to be updated by installer you can remove it from here.</p>
</div>
<div class="section" id="coming-capabilities">
<h2>Coming Capabilities<a class="headerlink" href="#coming-capabilities" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Auto update:</th><td class="field-body">OwlH Installer will recognize there is a new version and will update itself before running.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Off-line or blind update:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Downloaded packets for Node, Master and UI will be used instead of access internet to download them.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Deployment scripts:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">will Include and execute scripts like Suricata and Zeek deployments, Httpd daemon configuration, OwlH interface for STAP, etc.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, owlh team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.17.x',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>